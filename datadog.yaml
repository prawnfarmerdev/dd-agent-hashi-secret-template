# Datadog API key retrieved from Vault using native integration
api_key: ENC[/secret/datadog;api_key]

# Update to your Datadog site (datadoghq.com, us5.datadoghq.com, datadoghq.eu, etc.)
site: us5.datadoghq.com

hostname: dd-agent-hashi-secret

# Native HashiCorp Vault integration (Datadog Agent v7.32.0+)
# Working configuration with token authentication
secret_backend_type: hashicorp.vault
secret_backend_config:
  vault_address: http://vault:8200
  vault_token: root  # Literal token value (also requires /etc/datadog-agent/auth_token file)

# Logging
log_level: DEBUG

# Enable checks
process_agent_enabled: true
trace_agent_enabled: true

# Listen on all interfaces
bind_host: 0.0.0.0

# Additional configs can be placed in conf.d/